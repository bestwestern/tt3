function resvalg(n,t,i){for(var e=sol1.solevents[i],o,f,r=0,u=e.resourcer.length;r<u;r++)if(e.resourcer[r].mangel.role==t)break;for(o=n.options[n.selectedIndex].value,f=0,u=resourcer.length;f<u;f++)if(resourcer[f].id==o)break;e.resourcer[r].resourceref=resourcer[f]}function lavtablerowhtml(n){for(var u="<table><thead><tr><td>Event<\/td><td>Time<\/td>",a=n.solevents,v=[],b={},c,tt,t,rt,k,d,e,ut,y,p,ot,l,s,st,nt,w,o,ht,i=0,h=a.length;i<h;i++)for(c=a[i].sEvent.eventmangler,t=0,tt=c.length;t<tt;t++)v.indexOf(c[t].role)==-1&&(v.push(c[t].role),u+="<td>"+c[t].role+"<\/td>");for(u+="<\/tr><\/thead>",i=0,h=a.length;i<h;i++){var f=a[i],r=f.sEvent,it=r.name;for(r.duration>1&&(it+=" ("+(f.durationindeks+1)+"/"+r.duration+")"),u+="<tr><td>"+it+"<\/td><td>Time<\/td>",t=0,rt=v.length;t<rt;t++){for(k=v[t],d=!1,e=0,ut=r.eventmangler.length;e<ut;e++)if(k==r.eventmangler[e].role){d=!0;break}if(d){if(y=r.eventmangler[e].resourcetype.id,b[y]===undefined){var ft=[],g="<option value='EJVALGT'>Not chosen<\/option>",et=r.eventmangler[e].resourcetype.resourcegroups;for(p=0,ot=et.length;p<ot;p++)for(l=et[p].resourcer,s=0,st=l.length;s<st;s++)ft.indexOf(l[s].id)==-1&&(nt=l[s].id,ft.push(nt),g+="<option value='"+nt+"'>"+l[s].name+"<\/option>");g+="<\/select>",b[y]=g}for(w=b[y],o=0,ht=f.resourcer.length;o<ht;o++)f.resourcer[o].mangel==r.eventmangler[e]&&f.resourcer[o].resourceref!=undefined&&(w=w.replace("'"+f.resourcer[o].resourceref.id+"'>","'"+f.resourcer[o].resourceref.id+"' selected>"));u+="<td> <select onchange='resvalg(this,\""+k+'","'+i+"\")'>"+w+"<\/td>"}else u+="<td><\/td>"}u+="<\/tr>"}return u+"<\/table>"}var timer,sol1,tidsgrupper,resourcetyper,resourcegrupper,resourcer,eventgrupper,events,hardconstraints,softconstraints;window.onload=function(){instans.readxml("XML/"+["test","NetherlandsKottenpark2009","ArtificialORLibrary-hdtt6","ArtificialSudoku4x4","AustraliaBGHS98","AustraliaSAHS96","BrazilInstance1","BrazilInstance4","DenmarkHasserisGymnasium2012","EnglandStPaul","GreeceHighSchool1","FinlandCollege","FinlandSecondarySchool","NetherlandsGEPRO","SouthAfricaLewitt2009","SpainSchool"][1]+".xml"),sol1=new solution.Sol,sol1.udregn(),$("#content").html(lavtablerowhtml(sol1))}