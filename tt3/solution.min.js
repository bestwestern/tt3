var solution;(function(n){var i=function(){function n(){this.durationindex=[],this.eventindex=[]}return n}(),t,r;n.tildeling=i,t=function(){function n(){this.tider=[];for(var n=0;n<antaltider;n++)this.tider.push(new i)}return n}(),n.restider=t,r=function(){function n(){var n,i,r,u,f;for(this.resmangeltildelinger=[],this.tidmangeltildelinger=[],this.restiltid=[],n=0;n<antalresourcer;n++)this.restiltid[n]=new t;for(n=0;n<antalevents;n++)if(i=events[n],i.preasigntime)for(r=0;r<i.duration;r++)for(u=0;u<i.eventresourcer.length;u++)f=i.eventresourcer[u].index,this.restiltid[f].tider[i.preasigntime.index+r].durationindex.push(r),this.restiltid[f].tider[i.preasigntime.index+r].eventindex.push(i.index)}return n.prototype.udregncon=function(n){for(var p=n?hardconstraints:softconstraints,c,e,u,o,r,l,t,k,a,s,v,y,i,h=0,w=p.length;h<w;h++){var t=p[h],f=[],b=0;if(t instanceof instans.AssignTimeConstraint)for(t=t,i=0,e=t.appliestoev.length;i<e;i++){for(u=0,o=t.appliestoev[i].eventtidmangler,r=0;r<o.length;r++)this.tidmangeltildelinger[o[r].index]==null&&u++;f.push(u)}if(t instanceof instans.AssignResourceConstraint)for(t=t,i=0,e=t.appliestoev.length;i<e;i++){for(u=0,c=t.appliestoev[i].eventresmangler,r=0;r<c.length;r++)this.resmangeltildelinger[c[r].index]==null&&u++;f.push(u)}if(t instanceof instans.PreferTimesConstraint)for(t=t,i=0,e=t.appliestoev.length;i<e;i++){for(u=0,o=t.appliestoev[i].eventtidmangler,r=0;r<o.length;r++)l=this.tidmangeltildelinger[o[r].index],l!=null&&t.timer.indexOf(timer[l])<0&&u++;f.push(u)}if(t instanceof instans.AvoidClashesConstraint)for(t=t,i=0;i<t.appliestores.length;i++)for(k=0,a=t.appliestores[i].index,s=0;s<antaltider;s++)this.restiltid[a].tider[s].durationindex.length>0&&(k+=this.restiltid[a].tider[s].durationindex.length-1);f.length>0&&(v=document.createElement("li"),b=t.costfunction(f)*t.weight,v.appendChild(document.createTextNode(t.name+":"+b.toString()+":"+f.toString())),y=n?document.getElementById("hardcon"):document.getElementById("softcon"),y.insertBefore(v,y.firstChild))}if(f)for(i=0;i<f.length;i++);},n.prototype.tildeltidtilevent=function(n,t){var i=tidmangler[n].aevent,o=i.index,f=tidmangler[n].durationindex,e,u,s,r;for(this.tidmangeltildelinger[n]!=undefined&&(e=this.tidmangeltildelinger[n]),u=f;u<i.eventresmangler.length;u=u+i.duration)for(this.resmangeltildelinger[i.eventresmangler[u].index]!==undefined&&(r=this.resmangeltildelinger[i.eventresmangler[u].index],e!==undefined&&this.fratagresourcetileventtiltid(r,f,e,o),t>-1&&this.tildelresourcetileventtiltid(r,f,t,o)),s=0;s<i.eventresourcer.length;s++)r=i.eventresourcer[s].index,e!==undefined&&this.fratagresourcetileventtiltid(r,f,e,o),t>-1&&this.tildelresourcetileventtiltid(r,f,t,o);this.tidmangeltildelinger[n]=t>-1?t:null},n.prototype.fratagresourcetileventtiltid=function(n,t,i,r){for(var f=this.restiltid[n].tider[i],e=-1,u=0;u<f.durationindex.length;u++)f.durationindex[u]==t&&f.eventindex[u]==r&&(e=u);e>-1&&(f.eventindex.splice(e,1),f.durationindex.splice(e,1))},n.prototype.tildelresourcetileventtiltid=function(n,t,i,r){var u=this.restiltid[n].tider[i];u.eventindex.push(r),u.durationindex.push(t)},n}(),n.Sol=r})(solution||(solution={}))